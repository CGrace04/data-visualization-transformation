{
  "hash": "5853fac0a90a973604f68daae58bcb5e",
  "result": {
    "engine": "knitr",
    "markdown": "---\ntitle: \"Bechdel + Data Visualization\"\nsubtitle: \"Module 2 - Lesson 2.2 - Course 1 \"\nauthor: \"\"\ntoc: true\nfilters: \n  - webr\nwebr:\n  packages: ['tidyverse', 'scales']\n---\n\n\n::: {.callout-important}\n## Programming Activity Guide\n\nPlease reference the `webR-intro` activity for information on the different types of code chunks, questions, and how to save your work to reference later.\n:::\n\n## Getting started\n\nPlease run the following code by clicking the [green arrow]{style=\"color:green;\"} just above the code chunk. When reading in the data, nothing will appear after you click the button. However, clicking the arrow ensures that your data are read in and can be used for the following activity.\n\n```{webr-r}\n#| context: setup\ndownload.file(\n  \"https://raw.githubusercontent.com/ElijahMeyer3/Coursera/main/data/bechdel.csv\",\n  \"bechdel.csv\"\n)\n```\n\n```{webr-r}\n#| echo: false\nbechdel <- read.csv(\"bechdel.csv\")\n```\n\n\n::: {.cell}\n\n:::\n\n\nIn this mini analysis we work with the data used in the FiveThirtyEight story titled [\"The Dollar-And-Cents Case Against Hollywood's Exclusion of Women\"](https://fivethirtyeight.com/features/the-dollar-and-cents-case-against-hollywoods-exclusion-of-women/).\n\nThis analysis is about the [Bechdel test](https://en.wikipedia.org/wiki/Bechdel_test), a measure of the representation of women in fiction.\n\n### Packages\n\nWe'll use: **tidyverse** for majority of the analysis and **scales** for pretty plot labels later on. These are ready to use for you in this activity!\n\n\n::: {.cell}\n\n```{.r .cell-code}\nlibrary(tidyverse)\nlibrary(scales)\n```\n:::\n\n::: {.cell}\n\n:::\n\n\n**FOR MINE** Do we need this note below? I modified it from the original AE, but it may not feel necessary for Coursera.\n\n::: callout-note\nThis a modified version of the `bechdel` dataset. It's been modified to include some new variables derived from existing variables as well as to limit the scope of the data to movies released between 1990 and 2013. A link to the original dataset can be found [here](https://github.com/fivethirtyeight/data/blob/master/bechdel/movies.csv)\n:::\n\n### Get to know the data\n\n**Your Turn**: We can use the `glimpse` function to get an overview (or \"glimpse\") of the data. Write the following code below to accomplish this task.\n\nWith your output, confirm that:\n\n-- There are 1615 rows\n\n-- There are 7 variables (columns) in the dataset\n\n::: callout-warning\nIf you receive the error [Error: object 'bechdel' not found]{style=\"color:red;\"}, go back and read in your data above.\n:::\n\n```{webr-r}\n# add code here\n\n```\n\n**Demo**: We can use `slice` to look at rows of our data. Run the following code. Change the `5` to another number to print that many rows!\n\n```{webr-r}\nslice(bechdel, 1:5)\n```\n\n<label>Notes:</label> <br>\n\n\n```{=html}\n<textarea rows=\"4\" cols=\"50\">\n</textarea>\n```\n\n<br><br>\n\nWhat does each observation (row) in the data set represent?\n\n<label>Answer:</label> <br>\n\n\n```{=html}\n<textarea rows=\"4\" cols=\"50\">\n</textarea>\n```\n\n<br><br>\n\n::: {.callout-tip collapse=\"true\"}\n## Solution\n\nEach observation represents a **movie**.\n:::\n\n## Variables of Interest\n\nThe variables we'll focus on are the following:\n\n-   `budget_2013`: Budget in 2013 inflation adjusted dollars.\n-   `gross_2013`: Gross (US and international combined) in 2013 inflation adjusted dollars.\n-   `roi`: Return on investment, calculated as the ratio of the gross to budget.\n-   `clean_test`: Bechdel test result:\n    -   `ok` = passes test\n    -   `dubious`\n    -   `men` = women only talk about men\n    -   `notalk` = women don't talk to each other\n    -   `nowomen` = fewer than two women\n-   `binary`: Bechdel Test PASS vs FAIL binary\n\nWe will also use the `year` of release in data prep and `title` of movie to take a deeper look at some outliers.\n\nThere are a few other variables in the dataset, but we won't be using them in this analysis.\n\n## Visualizing data with `ggplot2`\n\n**Demo**: **ggplot2** is the package and `ggplot()` is the function in this package that is used to create a plot. Interact with the code below by either running the code given, or adding code to achieve the expected solution when asked within the code chunk!\n\n-   `ggplot()` creates the initial base coordinate system, and we will add layers to that base. We first specify the data set we will use with `data = bechdel`, and run the following to create our base.\n\n```{webr-r}\n#| label: plot-base\nggplot(data = bechdel)\n```\n\n-   The `mapping` argument is paired with an aesthetic (`aes()`), which tells us how the variables in our data set should be mapped to the visual properties of the graph.\n\n```{webr-r}\n#| label: plot-aesthetic-mapping\nggplot(data = bechdel, \n       mapping = aes(x = budget_2013, y = gross_2013))\n```\n\n-   As we previously mentioned, we often omit the names of the first two arguments in R functions. So you'll often see this written as:\n\n```{webr-r}\n#| label: plot-simplified-call\nggplot(bechdel, \n       aes(x = budget_2013, y = gross_2013))\n```\n\nNote that the result is exactly the same.\n\n**Your Turn**: The `geom_xx` function specifies the type of plot we want to use to represent the data. In the code below, we want to use `geom_point`, which creates a plot where each observation is represented by a point.\n\n```{webr-r}\n#| label: plot-point\nggplot(bechdel, \n       aes(x = budget_2013, y = gross_2013)) +\n  # type geom_point() here!\n```\n\n::: {.callout-tip collapse=\"true\"}\n## Expected Result\n\n\n::: {.cell}\n::: {.cell-output .cell-output-stderr}\n\n```\nWarning: Removed 15 rows containing missing values (`geom_point()`).\n```\n\n\n:::\n\n::: {.cell-output-display}\n![](bechdel-data-visualization_files/figure-html/unnamed-chunk-4-1.png){width=672}\n:::\n:::\n\n:::\n\nNote that this results in a warning as well.\n\nThis warning represents the number of observations that were removed because there were missing data!\n\n## Gross revenue vs. budget\n\n### Step 1\n\n**Your Turn**: The following code changes the color of all points to coral. Explore different colors by changing \"coral\" to different colors!\n\n::: callout-tip\nSee <http://www.stat.columbia.edu/~tzheng/files/Rcolor.pdf> for many color options you can use by name in R or use the [hex code](https://en.wikipedia.org/wiki/Web_colors) for a color of your choice.\n:::\n\n```{webr-r}\n#| label: plot-point-color\n\nggplot(bechdel, \n       aes(x = budget_2013, y = gross_2013)) +\n  geom_point(color = \"coral\") \n```\n\n### Step 2\n\n**Your Turn**: Add labels for the title and x and y axes using [labs](https://ggplot2.tidyverse.org/reference/labs.html). Do this by modifying the existing code below.\n\n```{webr-r}\n#| label: plot-labs\n\nggplot(bechdel, \n       aes(x = budget_2013, y = gross_2013)) +\n  geom_point(color = \"coral\") + \n  # insert code here\n```\n\n::: {.callout-tip collapse=\"true\"}\n## Expected Result\n\n\n::: {.cell}\n\n```{.r .cell-code}\nggplot(bechdel, \n       aes(x = budget_2013, y = gross_2013))+\n  geom_point(color = \"deepskyblue3\") + \n  labs(\n    x = \"Budget (in 2013 $)\", \n    y = \"Gross revenue (in 2013 $)\", \n    title = \"Gross revenue vs. budget\"\n    )\n```\n\n::: {.cell-output .cell-output-stderr}\n\n```\nWarning: Removed 15 rows containing missing values (`geom_point()`).\n```\n\n\n:::\n\n::: {.cell-output-display}\n![](bechdel-data-visualization_files/figure-html/plot-labels-1.png){width=672}\n:::\n:::\n\n:::\n\n### Step 3\n\n**Your Turn**: An `aes`thetic is a visual property of one of the objects in your plot. Commonly used aesthetic options are:\n\n-   color\n-   fill\n-   shape\n-   size\n-   alpha (transparency)\n\nModify the plot below, so the `color` of the points is based on the variable `binary`, and make the size of your points based on `roi`.\n\n```{webr-r}\n#| label: plot-aes-color\n\nggplot(bechdel, \n       aes(x = budget_2013, y = gross_2013)) +\n  geom_point() + \n  labs(\n    x = \"Budget (in 2013 $)\", \n    y = \"Gross revenue (in 2013 $)\", \n    title = \"Gross revenue vs. budget, by Bechdel test result\"\n    )\n```\n\n::: {.callout-tip collapse=\"true\"}\n## Expected Result\n\n\n::: {.cell}\n\n```{.r .cell-code}\nggplot(bechdel, \n       aes(x = budget_2013, y = gross_2013,\n           color = binary, size = roi)) +\n  geom_point() + \n  labs(\n    x = \"Budget (in 2013 $)\", \n    y = \"Gross revenue (in 2013 $)\", \n    title = \"Gross revenue vs. budget, by Bechdel test result\"\n    )\n```\n\n::: {.cell-output .cell-output-stderr}\n\n```\nWarning: Removed 15 rows containing missing values (`geom_point()`).\n```\n\n\n:::\n\n::: {.cell-output-display}\n![](bechdel-data-visualization_files/figure-html/plot-aes-color-solution-1.png){width=672}\n:::\n:::\n\n:::\n\n### Step 4\n\n**Your Turn**: Expand on your plot from the previous step to make the transparency (`alpha`) of the points 0.5.\n\n```{webr-r}\n#| label: plot-aes-alpha\n\nggplot(bechdel, \n       aes(x = budget_2013, y = gross_2013,\n           color = binary, size = roi)) +\n  geom_point(alpha = #insert 0.5 here) + \n  labs(\n    x = \"Budget (in 2013 $)\", \n    y = \"Gross revenue (in 2013 $)\", \n    title = \"Gross revenue vs. budget, by Bechdel test result\"\n    )\n```\n\n### Step 5\n\n**Your Turn**: Expand on your plot from the previous step by using `facet_wrap` to display the association between budget and gross for different values of `clean_test`.\n\n```{webr-r}\n#| label: plot-facet-wrap\n\nggplot(bechdel, \n  aes(x = budget_2013, y = gross_2013,\n    color = binary, size = roi)) +\n  geom_point(alpha = 0.5) + \n  facet_wrap(~#insert variable here) +\n  labs(\n    x = \"Budget (in 2013 $)\", \n    y = \"Gross revenue (in 2013 $)\", \n    title = \"Gross revenue vs. budget, by Bechdel test result\"\n    )\n```\n\n::: {.callout-tip collapse=\"true\"}\n## Expected Result\n\n\n::: {.cell}\n\n```{.r .cell-code}\nggplot(bechdel, \n  aes(x = budget_2013, y = gross_2013,\n    color = binary, size = roi)) +\n  geom_point(alpha = 0.5) + \n  facet_wrap(~ clean_test) +\n  labs(\n    x = \"Budget (in 2013 $)\", \n    y = \"Gross revenue (in 2013 $)\", \n    title = \"Gross revenue vs. budget, by Bechdel test result\"\n    )\n```\n\n::: {.cell-output .cell-output-stderr}\n\n```\nWarning: Removed 15 rows containing missing values (`geom_point()`).\n```\n\n\n:::\n\n::: {.cell-output-display}\n![](bechdel-data-visualization_files/figure-html/plot-facet-wrap-sol-1.png){width=672}\n:::\n:::\n\n:::\n\n### Step 6\n\n**Demo**: Below is a demonstration on how to improve your plot from the previous step by making the x and y scales more legible.\n\n::: callout-tip\nThis is done through the use of the [**scales**](https://scales.r-lib.org/) package, specifically the `scale_x_continuous()` and `scale_y_continuous()` functions.\n:::\n\n```{webr-r}\n#| label: plot-scales\n\nggplot(bechdel, \n  aes(x = budget_2013, y = gross_2013,\n    color = binary, size = roi)) +\n  geom_point(alpha = 0.5) + \n  facet_wrap(~clean_test) +\n  scale_x_continuous(labels = label_dollar(scale = 1/1000000)) +\n  scale_y_continuous(labels = label_dollar(scale = 1/1000000)) +\n  labs(\n    x = \"Budget (in 2013 $)\", \n    y = \"Gross revenue (in 2013 $)\", \n    title = \"Gross revenue vs. budget, by Bechdel test result\"\n    )\n```\n\n<label>Notes:</label> <br>\n\n\n```{=html}\n<textarea rows=\"4\" cols=\"50\">\n</textarea>\n```\n\n<br><br>\n\n### Step 7\n\n**Your Turn**: Expand on your plot from the previous step by using `facet_grid` to display the association between budget and gross for different combinations of `clean_test` and `binary`. Comment on whether this was a useful update.\n\n```{webr-r}\n#| label: plot-facet-grid\n\nggplot(bechdel, \n       aes(x = budget_2013, y = gross_2013,\n           color = binary, size = roi)) +\n  geom_point(alpha = 0.5) + \n  facet_grid(#insert variable name1 ~ insert variable name2) +\n  scale_x_continuous(labels = label_dollar(scale = 1/1000000)) +\n  scale_y_continuous(labels = label_dollar(scale = 1/1000000)) +\n  labs(\n    x = \"Budget (in 2013 $)\", \n    y = \"Gross revenue (in 2013 $)\", \n    title = \"Gross revenue vs. budget, by Bechdel test result\"\n    )\n```\n\nIs this type of facet useful? Why or why not?\n\n<label>Answer:</label> <br>\n\n\n```{=html}\n<textarea rows=\"4\" cols=\"50\">\n</textarea>\n```\n\n<br><br>\n\n::: {.callout-tip collapse=\"true\"}\n## Solution\n\nThis was not a useful update as one of the levels of `clean_test` maps directly to one of the levels of `binary`.\n:::\n\n# Quiz\n\n**1 (Fill in blank)**\n\nShould we have a question like this? Could also move this into the activity.  \n\nCreate side-by-side box plots of roi on the y-axis, and clean_test on the x-axis with the boxes are colored by binary. Be sure to include appropriate labels.\n\n```{webr-r}\n\nggplot(bechdel, \n       aes(x = ..., y = ..., color = ...)) +\n  geom_...() +\n  labs(\n    title = \"Return on investment vs. Bechdel test result\",\n    x = \"Detailed Bechdel result\",\n    y = \"Return-on-investment (gross / budget)\",\n    color = \"Bechdel\\nresult\"\n    )\n```\n\n**Solution**\n\n```{webr-r}\n\nggplot(bechdel, \n       aes(x = clean_test, y = roi, color = binary)) +\n  geom_boxplot() +\n  labs(\n    title = \"Return on investment vs. Bechdel test result\",\n    x = \"Detailed Bechdel result\",\n    y = \"Return-on-investment (gross / budget)\",\n    color = \"Bechdel\\nresult\"\n    )\n```\n\n\n**1 (dropdown question)** The `|>` operator in R represents the word (*then* \\| with \\| before \\| after)\n\n**2 (dropdown question)** The formal name for a row is a(an) (*observational unit* \\| variable \\| input). Columns in our data set represent a(an) (observational unit \\| *variable* \\| input).\n\n**3 (multiple choice)** Below is a table that has all columns and five rows from the bechdel dataset. This is also commonly refereed to as a ...\n\n![](images/data-frame.png){fig-align=\"center\"}\n\na.  *data frame*\n\nb.  data description\n\nc.  data table\n\nd.  data features\n\n**4a (matching)** Suppose data were collected about customers at a coffee shop. Three variables were recorded for each customer: number of cups of coffee they ordered, customer height, whether the customer had previously visited this coffee shop before, and the customer's rating of their overall experience measures as \"Bad\", \"Okay\", and \"Great\". Use the information to classify each variable below:\n\n| Variable        | Classification         |\n|-----------------|------------------------|\n| Cups of Coffee  | Categorical - Ordinal  |\n| Height          | Categorical - Nominal  |\n| Visited Before  | Numeric - Discrete     |\n| Customer Rating | Numeric - Continuous   |\n\n**4b (dropdown question)** The researchers that collected data about customers at a coffee shop are interested in the relationship between cups of coffee and customer rating. Specifically, they are interested in if there is an increase in the number of cups of coffee a customer orders, does this influence a more positive customer rating. Based on this research question, please fill in the following: \n\nCustomer rating would be considered the (*response* | explanatory) variable, and cups of coffee would be considered the (response | *explanatory* variable). This study design is an (experience | *observational study*).\n\n\n**5 (multiple choice)** The gg in the name of the package ggplot2 stands for ...\n\n**Options**\n\na.  Grammar of Graphics\n\nb.  Grammar of Graphing\n\nc.  Good Grammar\n\nd.  Generate Graphics\n\n**6 (True or False)** Please answer each *true or false question* below as it relates to the functionality.\n\na.  The `<-` assigns the value of the result from the operation on the right hand side to the object on the left hand side\n\nb.  `geom_jitter` and `geom_point` will produce the same scatter plot.\n\n**7 (Matching)** Connect the set of variables with a geom that will create an appropriate visualization.\n\n::: columns\n::: {.column width=\"70%\"}\n1.  Quantitative X & Quantitative Y\n\n2.  Categorical X & Quantitative Y\n\n3.  Categorical X\n:::\n\n::: {.column width=\"10%\"}\n<!-- empty column to create gap -->\n:::\n\n::: {.column width=\"20%\"}\na.  geom_boxplot()\n\nb.  geom_point()\n\nc.  geom_bar()\n:::\n:::\n\n**8 (multiple select)** Tidying your data means...\n\n*a*. storing it in a consistent form that matches the semantics of the dataset with how it is stored\n\n*b*. storing it where each column is a variable and each row is an observation \n\nc. cleaning your data so there are no missing observations \n\nd. making sure your data set has only quantitative values for analysis\n\nThe next two questions will use the `mtcars` data set in R. A key to the data set can be found below:\n\n| Variable | Description                              |\n|----------|------------------------------------------|\n| mpg      | Miles/(US) gallon                        |\n| cyl      | Number of cylinders                      |\n| disp     | Displacement (cu.in.)                    |\n| hp       | Gross horsepower                         |\n| drat     | Rear axle ratio                          |\n| wt       | Weight (1000 lbs)                        |\n| qsec     | 1/4 mile time                            |\n| vs       | Engine (0 = V-shaped, 1 = straight)      |\n| am       | Transmission (0 = automatic, 1 = manual) |\n| gear     | Number of forward gears                  |\n\n**9 (Multiple choice)** Code style: Below is code that does not follow the [Tidyverse style guide](https://style.tidyverse.org/). Pick the correction option that changes the code to adhere to the style guide.\n\n\n::: {.cell}\n\n```{.r .cell-code}\nggplot(data=mpg,mapping=aes(x=drv,fill=class))+geom_bar() +scale_fill_viridis_d()\n```\n:::\n\n\n**Options**\n\na.  \n\n\n::: {.cell}\n\n```{.r .cell-code}\nggplot(mpg, aes(x = drv, fill = class)) + \n  geom_bar() + \n  scale_fill_viridis_d()\n```\n:::\n\n\nb.  \n\n\n::: {.cell}\n\n```{.r .cell-code}\nggplot(data=mpg, aes(x = drv, fill = class)) + \n  geom_bar() + scale_fill_viridis_d()\n```\n:::\n\n\nc.  \n\n\n::: {.cell}\n\n```{.r .cell-code}\nggplot(mpg, aes(x = drv, fill = class))+ \ngeom_bar()+ \nscale_fill_viridis_d()\n```\n:::\n\n\n\n**10 (Matching)** Reference the data set key above. Then, choose the selection that fills in the following `...` to make a scatterplot of cars' with `miles per gallon` on the x-axis and their \\`weight below.\n\n\n::: {.cell}\n\n```{.r .cell-code}\nggplot(mtcars) + \n  aes(x = ... , y = ...) + \n  geom_...()\n```\n:::\n\n\n**Options**\n\na.  \n\n\n::: {.cell}\n\n```{.r .cell-code}\nggplot(mtcars) + \n  aes(x = mpg , y = wt) + \n  geom_point()\n```\n:::\n\n\nb.  \n\n\n::: {.cell}\n\n```{.r .cell-code}\nggplot(mtcars) + \n  aes(x = wt , y = cyl) + \n  geom_point()\n```\n:::\n\n\nc.  \n\n\n::: {.cell}\n\n```{.r .cell-code}\nggplot(mtcars) + \n  aes(x = mpg, y = wt) + \n  geom_scatter()\n```\n:::\n\n\nd.  \n\n\n::: {.cell}\n\n```{.r .cell-code}\nggplot(mtcars) + \n  aes(x = wt , y = cyl) + \n  geom_scatter()\n```\n:::\n\n\n\n\n\n\n\n\n\n\n# Questions for Mine\n\n-- Is the **Your Turn** / **Demo** questions clear / how do we feel about how I've indicated this within each question in the document?\n\n-- I've put a *Notes* text box after the demo questions. Should every question have a notes box?\n\n-- The original AE for 199 had an open ended question at the end that read: \"What other improvements could we make to this plot?\" Would you like to include something like this? I did not include it (yet), and figure it may be a little to exploratory for a programming activity, but maybe we do actually want it.\n\n",
    "supporting": [
      "bechdel-data-visualization_files"
    ],
    "filters": [
      "rmarkdown/pagebreak.lua"
    ],
    "includes": {},
    "engineDependencies": {},
    "preserve": {},
    "postProcess": true
  }
}